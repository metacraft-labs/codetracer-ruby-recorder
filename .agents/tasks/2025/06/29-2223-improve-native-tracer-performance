Read the code of the native tracer implementation line by line and identify any inefficiency, improve performance while preserving correctness.
